---
title: Command Group 0x10nn
layout: home
parent: Developer Documentation
nav_order: 
---
<style>
/* ===== Pills (Request / Response / Payload) ===== */
.pill{display:inline-block;padding:.18rem .5rem;border-radius:999px;font-size:.78rem;
  font-weight:600;line-height:1;vertical-align:middle;border:1px solid rgba(0,0,0,.06)}
.pill-blue{background:#f5f9ff;border-color:#dbeafe;color:#1d4ed8}
.pill-red{background:#fff7f7;border-color:#fecaca;color:#b91c1c}
.pill-slate{background:#f8fafc;border-color:#e2e8f0;color:#334155}

/* ===== Callouts (info/success/warn) ===== */
.callout{border:1px solid #e5e7eb;border-left-width:4px;border-radius:8px;background:#fafafa;
  padding:.75rem 1rem;margin:1rem 0}
.callout small{display:block;color:#475569;margin-bottom:.25rem;font-weight:600;letter-spacing:.02em;text-transform:uppercase}
.callout p{margin:.25rem 0}
.is-info{border-left-color:#3b82f6;background:#f5f9ff}
.is-success{border-left-color:#10b981;background:#f0fdf4}
.is-warn{border-left-color:#f59e0b;background:#fffbeb}

/* ===== Labeled code box (keeps native JTD copy button) ===== */
.code-box{position:relative;margin:1rem 0}
.code-box[data-label]::before{
  content:attr(data-label);
  position:absolute;top:-10px;left:10px;
  background:#fff;padding:0 .4rem;font-size:.75rem;font-weight:600;color:#475569
  ;border:1px solid #e5e7eb;border-radius:6px
}
.code-box pre{margin-top:.6rem}

/* ===== Tables: sticky header + row hover ===== */
.markdown table{border:1px solid #e5e7eb;border-radius:8px;overflow:hidden}
.markdown table thead th{position:sticky;top:0;background:#f8fafc;z-index:1}
.markdown table tbody tr:hover td{background:#f9fafb}

/* ===== Two-column layout (collapses on mobile) ===== */
.twocol{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin:1rem 0}
@media (max-width: 860px){.twocol{grid-template-columns:1fr}}
.col{border:1px solid #e5e7eb;border-radius:10px;padding:12px;background:#fff}

/* ===== Monospace cells utility ===== */
.mono td,.mono th{font-family:ui-monospace,SFMono-Regular,Menlo,monospace;font-size:.9rem}
</style>


<style>
/* Simple table styling */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 1em 0;
}
table th, table td {
  border: 1px solid #ddd;
  padding: 6px 10px;
}
table th {
  background: #f8f9fa;
  font-weight: bold;
}
table tr:nth-child(even) {
  background: #fdfdfd;
}

/* Simple code block styling */
pre code {
  display: block;
  background: #f6f8fa;
  border: 1px solid #e1e4e8;
  border-radius: 6px;
  padding: 10px;
  font-size: 0.9rem;
  line-height: 1.4;
  overflow-x: auto;
}
</style>



# Command 0x1001 Start Transaction



The host uses this command to start a payment transaction.

---

## Sequence of Events

For transactions with card readers enabled, the flow is:

1. If user event notifications are enabled via [Property 1.2.7.1.2.1 – User Event Notification Controls Enable](../Properties/#property-1-2-7-1-2-1),  
   the cardholder may present a card before the host calls this command.  
   In that case, the device sends [Notification 0x1001 – Device Information Update](../Notifications/#notification-0x1001),  
   prompting the host to start a transaction.

2. **MSR Only**: If the cardholder swipes before the transaction starts,  
   the device temporarily stores card swipe data for the period defined by  
   [Property 1.2.7.1.2.2 – User Event Notification MSR Data Timeout](../Properties/#property-1-2-7-1-2-2).  

3. The host calls **Start Transaction** (`0x1001`).

4. The device guides the cardholder through interaction (MSR, EMV Contact, Contactless, or MCE).

5. The device sends transaction data and status responses back to the host.

---

## Applicability Matrix

| Transaction Interface | DynaFlex | DynaFlex II PED | DynaProx | DynaFlex II GO |
|------------------------|----------|-----------------|----------|----------------|
| MSR (Swipe)           | ✅       | ✅              | ❌       | ✅              |
| EMV Contact           | ✅       | ✅              | ❌       | ✅              |
| EMV Contactless       | ✅       | ✅              | ✅       | ✅              |
| MCE (Manual)          | ✅       | ✅              | ❌       | ❌              |
| Barcode Reader        | ✅       | ✅              | ✅       | ✅              |

---

## Command Syntax

| Field   | Length | Value   | Description           |
|---------|--------|---------|-----------------------|
| Command | 2      | 0x1001  | Start Transaction     |
| TLVs    | var.   | –       | See below             |

---

### Required TLVs

| Tag    | Name                       | Description                                        |
|--------|----------------------------|----------------------------------------------------|
| DFDF4D | Transaction Control Flags  | Controls available interfaces and flow             |
| RAAT   | Reader Action/Access Type *(MagTek Internal Only)*  | Specifies what action the reader should allow      |

---

### Parameter Table

| Parameter | Type     | Description                                                   |
|-----------|----------|---------------------------------------------------------------|
| DFDF4D    | Bitfield | Defines which card technologies are enabled for this transaction. |
| RAAT      | Reader Action/Access Type *(MagTek Internal Only)* | Specifies what action the reader should allow |

---

## Examples

### Example 1 — MSR (Swipe)

**Applicability:** MSR Only — DynaFlex, DynaFlex II PED  

**Request**
```
0x1001
  9F02 06 000000001000      ; Amount 10.00
  9A   03 250821            ; Date YYMMDD
  9C   01 00                ; Purchase
  5F2A 02 0840              ; Currency USD
  DF01 01 01                ; Entry modes = MSR
  DF02 02 003C              ; Timeout = 60s
```
**Payload**
```
9F02060000000010009A032508219C01005F2A020840DF010101DF0202003C
```

**Response**
```
0x1001
  SW1SW2 9000
  57   13 5413330089012345D25122011234567890F  ; Track 2 equiv
  5A   08 5413330089012345                      ; PAN (may be present)
```
**Payload**
``` 
900057135413330089012345D25122011234567890F5A085413330089012345 
``` 


---

### Example 2 — EMV Contact (Insert)

**Applicability:** EMV Contact Only — DynaFlex, DynaFlex II PED  

**Request**
```
0x1001
  9F02 06 000000005000      ; Amount 50.00
  9A   03 250821
  9C   01 00
  5F2A 02 0840
  DF01 01 02                ; Entry modes = EMV Contact
  DF02 02 003C
```
**Payload**
```
9F02060000000050009A032508219C01005F2A020840DF010102DF0202003C
```

**Response**
```
0x1001
  SW1SW2 9000
  5A   08 5413330089012345
  9F36 02 0032
  9F27 01 80                ; 80 = ARQC
  9F26 08 4F9A83D12475A1C2  ; Application Cryptogram
```
**Payload**
```
90005A0854133300890123459F360200329F2701809F26084F9A83D12475A1C2
```

---

### Example 3 — Contactless (Tap)

**Applicability:** Contactless Only — DynaProx, DynaFlex II GO  

**Request**
```
0x1001
  9F02 06 000000002500      ; Amount 25.00
  9A   03 250821
  9C   01 00
  5F2A 02 0840
  DF01 01 04                ; Entry modes = CTLS
  DF02 02 001E              ; Timeout = 30s
  DF03 07 9F66 04 E0F0C800  ; Example TTQ/options (illustrative)
```
**Payload**
```
9F02060000000025009A032508219C01005F2A020840DF010104DF0202001EDF03079F6604E0F0C800
```

**Response**
```
0x1001
  SW1SW2 9000
  57   13 5413330089012345D25122011234567890F
  5A   08 5413330089012345
  9F27 01 40                ; 40 = TC (offline approve)
  9F26 08 7AB45C11882301F4
```
**Payload**
```
900057135413330089012345D25122011234567890F5A0854133300890123459F2701409F26087AB45C11882301F4
```

---

### Example 4 — Manual Card Entry (MCE)

**Applicability:** MCE — DynaFlex II PED, DynaFlex II GO  

**Request**
```
0x1001
  9F02 06 000000001000      ; Amount 10.00
  9A   03 250821
  9C   01 00
  5F2A 02 0840
  DF01 01 08                ; Entry modes = MCE
  DF02 02 003C              ; Timeout = 60s
  DF04 06 01 10 16 01 01 00 ; Example prompt config (flags/min/max/CVV req/etc.)
```
**Payload**
```
9F02060000000010009A032508219C01005F2A020840DF010108DF0202003CDF0406011016010100
```

**Interactivity:**  
Device prompts PAN → Expiry → CVV2 per `DF04`.

**Response (Success)**
```
0x1001
  SW1SW2 9000
  DF10 08 5413330089012345  ; PAN
  DF11 02 2512              ; Expiry YYMM
  DF12 03 313233            ; "123" (ASCII)
```
**Payload**
```
9000DF10085413330089012345DF11022512DF1203313233
```


**Response (Failure)**
```
0x1001
  SW1SW2 6A80
  DFE0 12 4349565620666F726D6174206572726F72  ; "CIVV format error"
```
**Payload**
```
6A80DFE0124349565620666F726D6174206572726F72
```


---

## Error Conditions

| Status Word (SW1SW2) | Description & Context                                                                 |
|-----------------------|---------------------------------------------------------------------------------------|
| **9000**             | **Success** – The command completed successfully. Typically returned after `Start Transaction` or data retrieval when no errors occurred. |
| **6A80**             | **Invalid data** – The command data field is malformed or not acceptable (e.g., CIVV error during card authentication). Returned early in the transaction sequence if input data fails validation. |
| **6985**             | **Conditions not satisfied** – Required conditions are not met (e.g., ICC not present in EMV Contact transaction, or NFC disabled for Contactless). Often seen if the host issues a command too early. |
| **6A82**             | **File/record not found** – The requested TLV object, key, or file reference does not exist. Can occur if the host queries a property or transaction field not supported by the device configuration. |
| **6A83**             | **Authentication method blocked** – Too many failed PIN or authentication attempts. Transaction flow is aborted; the device requires reset or host intervention. |
| **6A84**             | **Not enough memory space** – The device cannot buffer or store additional transaction data. Usually seen if the host sends oversized APDU/TLV structures. |
| **6A88**             | **Referenced data not found** – A dependency object (such as a cryptographic key or certificate) is missing. Often occurs when host references a KSN or key slot that has not been provisioned. |
| **6F00**             | **Unknown error / technical issue** – A generic failure code. Indicates an unexpected device error or internal processing fault. May require device reset and re-issuance of the transaction command. |


*(Exact codes depend on device firmware; this list shows commonly returned errors.)*

---

## Notes

- **MSR Only**: Temporary storage of swiped card data is controlled by [Property 1.2.7.1.2.2 – User Event Notification MSR Data Timeout](../Properties/#property-1-2-7-1-2-2).  
- **EMV Contact Only**: An Integrated Circuit Card (ICC) must be physically present in the card slot before the transaction can proceed.  
- **Contactless Only**: The device must have the NFC reader module enabled and configured. Without it, contactless transactions cannot be initiated.  
- **MCE Only**: The cardholder must use the device keypad or the host application must provide a user interface to enter account data.  
- **(MagTek Internal Only)** Certain DFDF4D/RAAT TLV combinations are reserved for future use and should not be sent by host applications.  