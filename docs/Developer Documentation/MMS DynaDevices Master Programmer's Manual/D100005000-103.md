---
title: Command Group 0x10nn
layout: home
parent: Developer Documentation
nav_order: 
---
<!-- MagTek Docs: Theme Styles + Copy Buttons -->
<style>
  /* ====== MagTek palette (tweak if Brand asks) ====== */
  :root{
    --mt-red: #D0021B;          /* MagTek red */
    --mt-dark: #0F1216;         /* near-black */
    --mt-slate: #171B21;        /* dark panel */
    --mt-border: #2B2F36;       /* borders */
    --mt-ink: #0B0D11;          /* darkest */
    --mt-text: #0E1116;         /* body text on light */
    --mt-code: #E6EDF3;         /* code text on dark */
    --mt-muted: #A3B1C2;        /* secondary text */
    --mt-green: #22C55E;        /* checks */
    --mt-redx: #EF4444;         /* X marks */
    --mt-warn: #F59E0B;         /* warning accents */
    --mt-link: #0A84FF;         /* links in content */
  }

  /* Body & headings (respect your site theme, just tighten spacing) */
  h1,h2,h3{ letter-spacing:.2px }
  h1{ border-bottom:1px solid #eee; padding-bottom:.25rem }

  /* ====== Tables: tidy frames + hover ====== */
  table{
    width:100%;
    border-collapse:separate;
    border-spacing:0;
    border:1px solid #E8EDF2;
    border-radius:10px;
    overflow:hidden;
    background:#fff;
  }
  th, td{
    padding:.65rem .8rem;
    border-bottom:1px solid #EEF2F6;
    vertical-align:top;
  }
  thead th{
    background:#F7FAFC;
    font-weight:600;
    color:#3B4552;
  }
  tbody tr:last-child td{ border-bottom:none }
  tbody tr:hover td{ background:#FAFBFF }

  /* Applicability Matrix helpers (optional, use spans with these classes) */
  .mt-badge{
    display:inline-flex; align-items:center; gap:.4ch;
    border-radius:16px; padding:.1rem .55rem; font-weight:600;
    font-size:.85rem; line-height:1.2;
    border:1px solid #E8EDF2; background:#F7FAFC; color:#3B4552;
  }
  .mt-good{ color:#166534; background:#ECFDF5; border-color:#D1FAE5 }
  .mt-bad { color:#991B1B; background:#FEF2F2; border-color:#FECACA }

  /* ====== Code cards (annotated blocks) ====== */
  .code-card{
    position:relative; margin:12px 0; padding:14px 16px;
    border:1px solid var(--mt-border); border-radius:10px;
    background:var(--mt-slate);
    box-shadow:0 2px 8px rgba(0,0,0,.25);
  }
  .code-card .label{
    font-weight:600; color:#CDD9E5; margin: -2px 0 8px 0;
  }
  .code-card pre{ margin:0; overflow:auto }
  .code-card code{
    color:var(--mt-code);
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
    font-size:13px; line-height:1.5;
    background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0));
    display:block;
  }

  /* Copy button (works on any block with .mt-copyable) */
  .copy-btn{
    position:absolute; top:8px; right:8px;
    border:1px solid var(--mt-border); border-radius:6px;
    background:#21262D; color:#CDD9E5;
    font-size:12px; padding:6px 10px; cursor:pointer;
  }
  .copy-btn:hover{ background:#28313A }
  .copy-btn.copied{ background:#1B6F3A; border-color:#1B6F3A; color:#fff }

  /* ====== Raw payload blocks (request/response) ====== */
  .payload{
    position:relative; margin:12px 0; padding:12px 14px;
    border:1px dashed var(--mt-border); border-radius:10px;
    background:#0c0f13;
  }
  .payload code{
    color:var(--mt-code);
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
    font-size:13px; line-height:1.55; display:block;
  }
  .payload.request{ background: #0E1116 }
  .payload.response{ background: var(--mt-dark) } /* darker — device vibe */
  .payload .pill{
    position:absolute; top:-10px; left:12px;
    background:#fff; color:var(--mt-text); border:1px solid #E8EDF2;
    border-radius:999px; padding:.15rem .55rem; font-size:.75rem; font-weight:700;
  }
  .payload.response .pill{ background: var(--mt-red); color:#fff; border-color:var(--mt-red) }
  .payload.request .pill{ background: #10B981; color:#062b1f; border-color:#10B981 }

  /* Code fence general polish (if you use triple backticks w/out wrappers) */
  pre>code{
    border:1px solid #E8EDF2; border-radius:10px;
    display:block; padding:12px 14px; background:#FBFCFE;
  }

  /* Link color hint (optional) */
  a{ color:var(--mt-link) }
  a:hover{ text-decoration:underline }
</style>

<script>
  /* Auto-attach copy buttons to any block with .mt-copyable and a unique id */
  (function(){
    function addButton(block){
      if(block.querySelector('.copy-btn')) return;
      const btn=document.createElement('button');
      btn.className='copy-btn'; btn.textContent='Copy';
      btn.addEventListener('click', function(ev){
        ev.stopPropagation();
        const text = block.querySelector('code')?.innerText || '';
        navigator.clipboard.writeText(text.trim()).then(()=>{
          btn.classList.add('copied'); btn.textContent='Copied';
          setTimeout(()=>{ btn.classList.remove('copied'); btn.textContent='Copy'; }, 1500);
        });
      });
      block.appendChild(btn);
    }
    document.addEventListener('DOMContentLoaded', ()=>{
      document.querySelectorAll('.code-card.mt-copyable, .payload.mt-copyable').forEach(addButton);
    });
  })();
</script>

# Command 0x1001 – Start Transaction {#command-0x1001}

<!-- Begin: Code Card Styles & Copy Button Script -->
<style>
.code-card{position:relative;border:1px solid #2b2f36;border-radius:10px;background:#0f1216;margin:12px 0;padding:14px 16px;box-shadow:0 2px 8px rgba(0,0,0,.25)}
.code-card .label{font-weight:600;color:#cdd9e5;margin-bottom:8px}
.code-card pre{margin:0;overflow:auto}
.copy-btn{position:absolute;top:8px;right:8px;border:1px solid #2b2f36;background:#171b21;color:#cdd9e5;font-size:12px;border-radius:6px;padding:6px 10px;cursor:pointer}
.copy-btn:hover{background:#1e242c}
.copy-btn.copied{background:#1b6f3a;border-color:#1b6f3a;color:#fff}
/* Optional monospace + subtle gradient */
.code-card code{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; 
  background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0)); display:block; color:#e6edf3; font-size:13px; line-height:1.5}
</style>
<script>
(function(){
  function copy(text, btn){
    navigator.clipboard.writeText(text).then(function(){
      btn.classList.add('copied'); btn.textContent='Copied';
      setTimeout(function(){ btn.classList.remove('copied'); btn.textContent='Copy'; }, 1600);
    });
  }
  document.addEventListener('click', function(ev){
    var btn = ev.target.closest('.copy-btn'); if(!btn) return;
    var tgt = btn.getAttribute('data-target'); if(!tgt) return;
    var code = document.querySelector(tgt); if(!code) return;
    copy(code.innerText.trim(), btn);
  });
})();
</script>
<!-- End: Code Card Styles & Copy Button Script -->


The host uses this command to start a payment transaction.

---

## Sequence of Events

For transactions with card readers enabled, the flow is:

1. If user event notifications are enabled via [Property 1.2.7.1.2.1 – User Event Notification Controls Enable](../Properties/#property-1-2-7-1-2-1),  
   the cardholder may present a card before the host calls this command.  
   In that case, the device sends [Notification 0x1001 – Device Information Update](../Notifications/#notification-0x1001),  
   prompting the host to start a transaction.

2. **MSR Only**: If the cardholder swipes before the transaction starts,  
   the device temporarily stores card swipe data for the period defined by  
   [Property 1.2.7.1.2.2 – User Event Notification MSR Data Timeout](../Properties/#property-1-2-7-1-2-2).  

3. The host calls **Start Transaction** (`0x1001`).

4. The device guides the cardholder through interaction (MSR, EMV Contact, Contactless, or MCE).

5. The device sends transaction data and status responses back to the host.

---

## Applicability Matrix

| Transaction Interface | DynaFlex | DynaFlex II PED | DynaProx | DynaFlex II GO |
|------------------------|----------|-----------------|----------|----------------|
| MSR (Swipe)           | ✅       | ✅              | ❌       | ✅              |
| EMV Contact           | ✅       | ✅              | ❌       | ✅              |
| EMV Contactless       | ✅       | ✅              | ✅       | ✅              |
| MCE (Manual)          | ✅       | ✅              | ❌       | ❌              |
| Barcode Reader        | ✅       | ✅              | ✅       | ✅              |

---

## Command Syntax

| Field   | Length | Value   | Description           |
|---------|--------|---------|-----------------------|
| Command | 2      | 0x1001  | Start Transaction     |
| TLVs    | var.   | –       | See below             |

---

### Required TLVs

| Tag    | Name                       | Description                                        |
|--------|----------------------------|----------------------------------------------------|
| DFDF4D | Transaction Control Flags  | Controls available interfaces and flow             |
| RAAT   | Reader Action/Access Type *(MagTek Internal Only)*  | Specifies what action the reader should allow      |

---

### Parameter Table

| Parameter | Type     | Description                                                   |
|-----------|----------|---------------------------------------------------------------|
| DFDF4D    | Bitfield | Defines which card technologies are enabled for this transaction. |
| RAAT      | Reader Action/Access Type *(MagTek Internal Only)* | Specifies what action the reader should allow |

---

## Examples

### Example 1 — MSR (Swipe)

**Applicability:** MSR Only — DynaFlex, DynaFlex II PED  

**Request**
```
0x1001
  9F02 06 000000001000      ; Amount 10.00
  9A   03 250821            ; Date YYMMDD
  9C   01 00                ; Purchase
  5F2A 02 0840              ; Currency USD
  DF01 01 01                ; Entry modes = MSR
  DF02 02 003C              ; Timeout = 60s
```

<div class="code-card">
  <div class="label">Request</div>
  <button class="copy-btn" data-target="#codecard_request_(compact)_1">Copy</button>
  <pre><code id="codecard_request_(compact)_1">9F02060000000010009A032508219C01005F2A020840DF010101DF0202003C</code></pre>
</div>


**Response**
```
0x1001
  SW1SW2 9000
  57   13 5413330089012345D25122011234567890F  ; Track 2 equiv
  5A   08 5413330089012345                      ; PAN (may be present)
```

<div class="code-card">
  <div class="label">Response</div>
  <button class="copy-btn" data-target="#codecard_response_(compact)_5">Copy</button>
  <pre><code id="codecard_response_(compact)_5">900057135413330089012345D25122011234567890F5A085413330089012345</code></pre>
</div>


---

### Example 2 — EMV Contact (Insert)

**Applicability:** EMV Contact Only — DynaFlex, DynaFlex II PED  

**Request**
```
0x1001
  9F02 06 000000005000      ; Amount 50.00
  9A   03 250821
  9C   01 00
  5F2A 02 0840
  DF01 01 02                ; Entry modes = EMV Contact
  DF02 02 003C
```

<div class="code-card">
  <div class="label">Request</div>
  <button class="copy-btn" data-target="#codecard_request_(compact)_2">Copy</button>
  <pre><code id="codecard_request_(compact)_2">9F02060000000050009A032508219C01005F2A020840DF010102DF0202003C</code></pre>
</div>


**Response**
```
0x1001
  SW1SW2 9000
  5A   08 5413330089012345
  9F36 02 0032
  9F27 01 80                ; 80 = ARQC
  9F26 08 4F9A83D12475A1C2  ; Application Cryptogram
```

<div class="code-card">
  <div class="label">Response</div>
  <button class="copy-btn" data-target="#codecard_response_(compact)_6">Copy</button>
  <pre><code id="codecard_response_(compact)_6">90005A0854133300890123459F360200329F2701809F26084F9A83D12475A1C2</code></pre>
</div>


---

### Example 3 — Contactless (Tap)

**Applicability:** Contactless Only — DynaProx, DynaFlex II GO  

**Request**
```
0x1001
  9F02 06 000000002500      ; Amount 25.00
  9A   03 250821
  9C   01 00
  5F2A 02 0840
  DF01 01 04                ; Entry modes = CTLS
  DF02 02 001E              ; Timeout = 30s
  DF03 07 9F66 04 E0F0C800  ; Example TTQ/options (illustrative)
```

<div class="code-card">
  <div class="label">Request</div>
  <button class="copy-btn" data-target="#codecard_request_(compact)_3">Copy</button>
  <pre><code id="codecard_request_(compact)_3">9F02060000000025009A032508219C01005F2A020840DF010104DF0202001EDF03079F6604E0F0C800</code></pre>
</div>


**Response**
```
0x1001
  SW1SW2 9000
  57   13 5413330089012345D25122011234567890F
  5A   08 5413330089012345
  9F27 01 40                ; 40 = TC (offline approve)
  9F26 08 7AB45C11882301F4
```

<div class="code-card">
  <div class="label">Response</div>
  <button class="copy-btn" data-target="#codecard_response_(compact)_7">Copy</button>
  <pre><code id="codecard_response_(compact)_7">900057135413330089012345D25122011234567890F5A0854133300890123459F2701409F26087AB45C11882301F4</code></pre>
</div>


---

### Example 4 — Manual Card Entry (MCE)

**Applicability:** MCE — DynaFlex II PED, DynaFlex II GO  

**Request**
```
0x1001
  9F02 06 000000001000      ; Amount 10.00
  9A   03 250821
  9C   01 00
  5F2A 02 0840
  DF01 01 08                ; Entry modes = MCE
  DF02 02 003C              ; Timeout = 60s
  DF04 06 01 10 16 01 01 00 ; Example prompt config (flags/min/max/CVV req/etc.)
```

<div class="code-card">
  <div class="label">Request</div>
  <button class="copy-btn" data-target="#codecard_request_(compact)_4">Copy</button>
  <pre><code id="codecard_request_(compact)_4">9F02060000000010009A032508219C01005F2A020840DF010108DF0202003CDF0406011016010100</code></pre>
</div>


**Interactivity:**  
Device prompts PAN → Expiry → CVV2 per `DF04`.

**Response (Success)**
```
0x1001
  SW1SW2 9000
  DF10 08 5413330089012345  ; PAN
  DF11 02 2512              ; Expiry YYMM
  DF12 03 313233            ; "123" (ASCII)
```

<div class="code-card">
  <div class="label">Response</div>
  <button class="copy-btn" data-target="#codecard_response_(compact)_8">Copy</button>
  <pre><code id="codecard_response_(compact)_8">9000DF10085413330089012345DF11022512DF1203313233</code></pre>
</div>


**Response (Failure)**
```
0x1001
  SW1SW2 6A80
  DFE0 12 4349565620666F726D6174206572726F72  ; "CIVV format error"
```

<div class="code-card">
  <div class="label">Response</div>
  <button class="copy-btn" data-target="#codecard_response_(compact)_9">Copy</button>
  <pre><code id="codecard_response_(compact)_9">6A80DFE0124349565620666F726D6174206572726F72</code></pre>
</div>


---

## Error Conditions

| Status Word (SW1SW2) | Description & Context                                                                 |
|-----------------------|---------------------------------------------------------------------------------------|
| **9000**             | **Success** – The command completed successfully. Typically returned after `Start Transaction` or data retrieval when no errors occurred. |
| **6A80**             | **Invalid data** – The command data field is malformed or not acceptable (e.g., CIVV error during card authentication). Returned early in the transaction sequence if input data fails validation. |
| **6985**             | **Conditions not satisfied** – Required conditions are not met (e.g., ICC not present in EMV Contact transaction, or NFC disabled for Contactless). Often seen if the host issues a command too early. |
| **6A82**             | **File/record not found** – The requested TLV object, key, or file reference does not exist. Can occur if the host queries a property or transaction field not supported by the device configuration. |
| **6A83**             | **Authentication method blocked** – Too many failed PIN or authentication attempts. Transaction flow is aborted; the device requires reset or host intervention. |
| **6A84**             | **Not enough memory space** – The device cannot buffer or store additional transaction data. Usually seen if the host sends oversized APDU/TLV structures. |
| **6A88**             | **Referenced data not found** – A dependency object (such as a cryptographic key or certificate) is missing. Often occurs when host references a KSN or key slot that has not been provisioned. |
| **6F00**             | **Unknown error / technical issue** – A generic failure code. Indicates an unexpected device error or internal processing fault. May require device reset and re-issuance of the transaction command. |


*(Exact codes depend on device firmware; this list shows commonly returned errors.)*

---

## Notes

- **MSR Only**: Temporary storage of swiped card data is controlled by [Property 1.2.7.1.2.2 – User Event Notification MSR Data Timeout](../Properties/#property-1-2-7-1-2-2).  
- **EMV Contact Only**: An Integrated Circuit Card (ICC) must be physically present in the card slot before the transaction can proceed.  
- **Contactless Only**: The device must have the NFC reader module enabled and configured. Without it, contactless transactions cannot be initiated.  
- **MCE Only**: The cardholder must use the device keypad or the host application must provide a user interface to enter account data.  
- **(MagTek Internal Only)** Certain DFDF4D/RAAT TLV combinations are reserved for future use and should not be sent by host applications.  