---
title: Command Group 0x10nn
layout: home
parent: Developer Documentation
nav_order: 
---
<!-- MagTek Docs – lightweight theme & code-card styling -->
<style>
:root{
  /* Brand */
  --mk-red:#c8102e;       /* MagTek red (approx.) */
  --mk-red-600:#a50d24;
  --ink-900:#0f1216;
  --ink-800:#171b21;
  --ink-700:#1e242c;
  --ink-600:#2b2f36;
  --ink-400:#9fb0c3;
  --ink-300:#cdd9e5;
  --ink-100:#e6edf3;
  --ok:#17b169;
  --warn:#f5a524;
}

 /* Headings & links */
h1,h2,h3{scroll-margin-top: 72px;}
h1{border-bottom:2px solid var(--mk-red); padding-bottom:.25rem;}
a{color:var(--mk-red); text-decoration:none;}
a:hover{color:var(--mk-red-600); text-decoration:underline;}

 /* Tables (Applicability, Syntax, Errors) */
table{border-collapse:separate; border-spacing:0; width:100%;}
thead th{background:#fafbfc; color:#111; border-bottom:2px solid #e6e8eb;}
tbody td, thead th{padding:.625rem .75rem;}
tbody tr{border-bottom:1px solid #eef2f6;}
tbody tr:hover{background:#f9fbff;}
.badge-yes,.badge-no{
  display:inline-flex; align-items:center; gap:.4rem; font-size:.82rem;
  border-radius:999px; padding:.15rem .55rem; font-weight:600
}
.badge-yes{ color:#0a3; background:#e8fff4; border:1px solid #bff0d6}
.badge-no { color:#b40027; background:#fff0f3; border:1px solid #ffd9e0}

 /* Code cards (requests/responses + compact strings) */
.code-card{position:relative; margin:12px 0; border:1px solid var(--ink-600);
  background:var(--ink-900); border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,.25)}
.code-card .label{color:var(--ink-100); font-weight:600; letter-spacing:.02em; opacity:.9; margin:10px 12px 0}
.code-card pre{margin:8px 0 0; overflow:auto}
.code-card code{
  display:block; color:var(--ink-100); font-size:13px; line-height:1.55;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0));
  padding:12px 14px 14px;
  counter-reset: ln;
}
 /* Optional line numbers on multi-line code blocks */
.code-card code[data-ln] > span{display:block; white-space:pre}
.code-card code[data-ln] > span::before{
  counter-increment: ln; content: counter(ln);
  display:inline-block; width:2ch; margin-right:12px; color:var(--ink-400); opacity:.7;
}

/* Copy button */
.copy-btn{
  position:absolute; top:10px; right:10px; border:1px solid var(--ink-600);
  background:var(--ink-800); color:var(--ink-100); font-size:12px;
  border-radius:8px; padding:6px 10px; cursor:pointer; transition:.15s;
}
.copy-btn:hover{background:var(--ink-700)}
.copy-btn.copied{background:var(--mk-red); border-color:var(--mk-red); color:#fff}

/* “Compact” single-line strings get tighter padding */
.code-card.compact code{padding:10px 12px}

/* Small “legend” tags (MSR/EMV/etc.) */
.tag{display:inline-block; font-size:.72rem; text-transform:uppercase; letter-spacing:.04em;
  background:#f3f5f8; border:1px solid #e5e9ef; color:#334155; border-radius:6px; padding:.15rem .45rem; margin-left:.25rem}
.tag.ctls{background:#fff7f8; border-color:#ffe2e7; color:#a50d24}
.tag.emv{background:#f3fff9; border-color:#c8f3de; color:#0a3}
.tag.msr{background:#f5f7ff; border-color:#dfe6ff; color:#3446c0}
</style>

<!-- Copy-to-clipboard script (targets any .copy-btn with data-target="#id") -->
<script>
(function(){
  function copy(text,btn){
    navigator.clipboard.writeText(text).then(function(){
      btn.classList.add('copied'); btn.textContent='Copied';
      setTimeout(function(){ btn.classList.remove('copied'); btn.textContent='Copy'; }, 1500);
    });
  }
  document.addEventListener('click', function(e){
    var b = e.target.closest('.copy-btn'); if(!b) return;
    var id = b.getAttribute('data-target'); var node = document.querySelector(id);
    if(node){ copy(node.innerText.trim(), b); }
  });
})();
</script>



The host uses this command to start a payment transaction.

---

## Sequence of Events

For transactions with card readers enabled, the flow is:

1. If user event notifications are enabled via [Property 1.2.7.1.2.1 – User Event Notification Controls Enable](../Properties/#property-1-2-7-1-2-1),  
   the cardholder may present a card before the host calls this command.  
   In that case, the device sends [Notification 0x1001 – Device Information Update](../Notifications/#notification-0x1001),  
   prompting the host to start a transaction.

2. **MSR Only**: If the cardholder swipes before the transaction starts,  
   the device temporarily stores card swipe data for the period defined by  
   [Property 1.2.7.1.2.2 – User Event Notification MSR Data Timeout](../Properties/#property-1-2-7-1-2-2).  

3. The host calls **Start Transaction** (`0x1001`).

4. The device guides the cardholder through interaction (MSR, EMV Contact, Contactless, or MCE).

5. The device sends transaction data and status responses back to the host.

---

## Applicability Matrix

| Transaction Interface | DynaFlex | DynaFlex II PED | DynaProx | DynaFlex II GO |
|------------------------|----------|-----------------|----------|----------------|
| MSR (Swipe)           | ✅       | ✅              | ❌       | ✅              |
| EMV Contact           | ✅       | ✅              | ❌       | ✅              |
| EMV Contactless       | ✅       | ✅              | ✅       | ✅              |
| MCE (Manual)          | ✅       | ✅              | ❌       | ❌              |
| Barcode Reader        | ✅       | ✅              | ✅       | ✅              |

---

## Command Syntax

| Field   | Length | Value   | Description           |
|---------|--------|---------|-----------------------|
| Command | 2      | 0x1001  | Start Transaction     |
| TLVs    | var.   | –       | See below             |

---

### Required TLVs

| Tag    | Name                       | Description                                        |
|--------|----------------------------|----------------------------------------------------|
| DFDF4D | Transaction Control Flags  | Controls available interfaces and flow             |
| RAAT   | Reader Action/Access Type *(MagTek Internal Only)*  | Specifies what action the reader should allow      |

---

### Parameter Table

| Parameter | Type     | Description                                                   |
|-----------|----------|---------------------------------------------------------------|
| DFDF4D    | Bitfield | Defines which card technologies are enabled for this transaction. |
| RAAT      | Reader Action/Access Type *(MagTek Internal Only)* | Specifies what action the reader should allow |

---

## Examples

### Example 1 — MSR (Swipe)

**Applicability:** MSR Only — DynaFlex, DynaFlex II PED  

**Request**
```
0x1001
  9F02 06 000000001000      ; Amount 10.00
  9A   03 250821            ; Date YYMMDD
  9C   01 00                ; Purchase
  5F2A 02 0840              ; Currency USD
  DF01 01 01                ; Entry modes = MSR
  DF02 02 003C              ; Timeout = 60s
```

<div class="code-card">
  <div class="label">Request</div>
  <button class="copy-btn" data-target="#codecard_request_(compact)_1">Copy</button>
  <pre><code id="codecard_request_(compact)_1">9F02060000000010009A032508219C01005F2A020840DF010101DF0202003C</code></pre>
</div>


**Response**
```
0x1001
  SW1SW2 9000
  57   13 5413330089012345D25122011234567890F  ; Track 2 equiv
  5A   08 5413330089012345                      ; PAN (may be present)
```

<div class="code-card">
  <div class="label">Response</div>
  <button class="copy-btn" data-target="#codecard_response_(compact)_5">Copy</button>
  <pre><code id="codecard_response_(compact)_5">900057135413330089012345D25122011234567890F5A085413330089012345</code></pre>
</div>


---

### Example 2 — EMV Contact (Insert)

**Applicability:** EMV Contact Only — DynaFlex, DynaFlex II PED  

**Request**
```
0x1001
  9F02 06 000000005000      ; Amount 50.00
  9A   03 250821
  9C   01 00
  5F2A 02 0840
  DF01 01 02                ; Entry modes = EMV Contact
  DF02 02 003C
```

<div class="code-card">
  <div class="label">Request</div>
  <button class="copy-btn" data-target="#codecard_request_(compact)_2">Copy</button>
  <pre><code id="codecard_request_(compact)_2">9F02060000000050009A032508219C01005F2A020840DF010102DF0202003C</code></pre>
</div>


**Response**
```
0x1001
  SW1SW2 9000
  5A   08 5413330089012345
  9F36 02 0032
  9F27 01 80                ; 80 = ARQC
  9F26 08 4F9A83D12475A1C2  ; Application Cryptogram
```

<div class="code-card">
  <div class="label">Response</div>
  <button class="copy-btn" data-target="#codecard_response_(compact)_6">Copy</button>
  <pre><code id="codecard_response_(compact)_6">90005A0854133300890123459F360200329F2701809F26084F9A83D12475A1C2</code></pre>
</div>


---

### Example 3 — Contactless (Tap)

**Applicability:** Contactless Only — DynaProx, DynaFlex II GO  

**Request**
```
0x1001
  9F02 06 000000002500      ; Amount 25.00
  9A   03 250821
  9C   01 00
  5F2A 02 0840
  DF01 01 04                ; Entry modes = CTLS
  DF02 02 001E              ; Timeout = 30s
  DF03 07 9F66 04 E0F0C800  ; Example TTQ/options (illustrative)
```

<div class="code-card">
  <div class="label">Request</div>
  <button class="copy-btn" data-target="#codecard_request_(compact)_3">Copy</button>
  <pre><code id="codecard_request_(compact)_3">9F02060000000025009A032508219C01005F2A020840DF010104DF0202001EDF03079F6604E0F0C800</code></pre>
</div>


**Response**
```
0x1001
  SW1SW2 9000
  57   13 5413330089012345D25122011234567890F
  5A   08 5413330089012345
  9F27 01 40                ; 40 = TC (offline approve)
  9F26 08 7AB45C11882301F4
```

<div class="code-card">
  <div class="label">Response</div>
  <button class="copy-btn" data-target="#codecard_response_(compact)_7">Copy</button>
  <pre><code id="codecard_response_(compact)_7">900057135413330089012345D25122011234567890F5A0854133300890123459F2701409F26087AB45C11882301F4</code></pre>
</div>


---

### Example 4 — Manual Card Entry (MCE)

**Applicability:** MCE — DynaFlex II PED, DynaFlex II GO  

**Request**
```
0x1001
  9F02 06 000000001000      ; Amount 10.00
  9A   03 250821
  9C   01 00
  5F2A 02 0840
  DF01 01 08                ; Entry modes = MCE
  DF02 02 003C              ; Timeout = 60s
  DF04 06 01 10 16 01 01 00 ; Example prompt config (flags/min/max/CVV req/etc.)
```

<div class="code-card">
  <div class="label">Request</div>
  <button class="copy-btn" data-target="#codecard_request_(compact)_4">Copy</button>
  <pre><code id="codecard_request_(compact)_4">9F02060000000010009A032508219C01005F2A020840DF010108DF0202003CDF0406011016010100</code></pre>
</div>


**Interactivity:**  
Device prompts PAN → Expiry → CVV2 per `DF04`.

**Response (Success)**
```
0x1001
  SW1SW2 9000
  DF10 08 5413330089012345  ; PAN
  DF11 02 2512              ; Expiry YYMM
  DF12 03 313233            ; "123" (ASCII)
```

<div class="code-card">
  <div class="label">Response</div>
  <button class="copy-btn" data-target="#codecard_response_(compact)_8">Copy</button>
  <pre><code id="codecard_response_(compact)_8">9000DF10085413330089012345DF11022512DF1203313233</code></pre>
</div>


**Response (Failure)**
```
0x1001
  SW1SW2 6A80
  DFE0 12 4349565620666F726D6174206572726F72  ; "CIVV format error"
```

<div class="code-card">
  <div class="label">Response</div>
  <button class="copy-btn" data-target="#codecard_response_(compact)_9">Copy</button>
  <pre><code id="codecard_response_(compact)_9">6A80DFE0124349565620666F726D6174206572726F72</code></pre>
</div>


---

## Error Conditions

| Status Word (SW1SW2) | Description & Context                                                                 |
|-----------------------|---------------------------------------------------------------------------------------|
| **9000**             | **Success** – The command completed successfully. Typically returned after `Start Transaction` or data retrieval when no errors occurred. |
| **6A80**             | **Invalid data** – The command data field is malformed or not acceptable (e.g., CIVV error during card authentication). Returned early in the transaction sequence if input data fails validation. |
| **6985**             | **Conditions not satisfied** – Required conditions are not met (e.g., ICC not present in EMV Contact transaction, or NFC disabled for Contactless). Often seen if the host issues a command too early. |
| **6A82**             | **File/record not found** – The requested TLV object, key, or file reference does not exist. Can occur if the host queries a property or transaction field not supported by the device configuration. |
| **6A83**             | **Authentication method blocked** – Too many failed PIN or authentication attempts. Transaction flow is aborted; the device requires reset or host intervention. |
| **6A84**             | **Not enough memory space** – The device cannot buffer or store additional transaction data. Usually seen if the host sends oversized APDU/TLV structures. |
| **6A88**             | **Referenced data not found** – A dependency object (such as a cryptographic key or certificate) is missing. Often occurs when host references a KSN or key slot that has not been provisioned. |
| **6F00**             | **Unknown error / technical issue** – A generic failure code. Indicates an unexpected device error or internal processing fault. May require device reset and re-issuance of the transaction command. |


*(Exact codes depend on device firmware; this list shows commonly returned errors.)*

---

## Notes

- **MSR Only**: Temporary storage of swiped card data is controlled by [Property 1.2.7.1.2.2 – User Event Notification MSR Data Timeout](../Properties/#property-1-2-7-1-2-2).  
- **EMV Contact Only**: An Integrated Circuit Card (ICC) must be physically present in the card slot before the transaction can proceed.  
- **Contactless Only**: The device must have the NFC reader module enabled and configured. Without it, contactless transactions cannot be initiated.  
- **MCE Only**: The cardholder must use the device keypad or the host application must provide a user interface to enter account data.  
- **(MagTek Internal Only)** Certain DFDF4D/RAAT TLV combinations are reserved for future use and should not be sent by host applications.  